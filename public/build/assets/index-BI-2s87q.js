import{r as a,j as e,L as A,z as _,a as E,c as H,u as J,H as K}from"./app-B9qMkald.js";import{i as $}from"./ScriptController-BCaRBIz5.js";import{L as q,i as X}from"./LoadingState-4uBzhJP5.js";import{I as Z}from"./IdeaCard-DWwFdKHp.js";import{S as D,a as U}from"./StoryView-Cz8tyqxT.js";import{B as T}from"./createLucideIcon-CS6_R7Lz.js";import{I as W}from"./input-IhgFSjGq.js";import{S as O}from"./sparkles-DbpjSfud.js";import{A as M}from"./arrow-left-NpFyi0QE.js";import{R as Q}from"./rotate-ccw-DxBsKLmd.js";import{A as ee}from"./app-layout-aLbd4rl7.js";import{Z as F}from"./zap-BdT4i0MM.js";/* empty css            */import"./index-CMWG4mbA.js";import"./check-BjaQWXQD.js";import"./copy-BGk9MsdT.js";import"./message-square-CBwy-10p.js";import"./card-DENPYvRm.js";import"./refresh-cw-moh4V45S.js";import"./file-text-DmyZAbPV.js";import"./dropdown-menu-DQ58HiOa.js";import"./index-BV-dnOJy.js";import"./index-BMf5Il-T.js";import"./index-DpN6pMMn.js";import"./video-RzVGfzTh.js";const te=({initialGuestCredits:t,isAuthenticated:I,userCredits:u})=>{const c=I?u??0:t??0,[l,N]=a.useState(null);a.useEffect(()=>{(async()=>{try{const v=await(await X.load()).get();N(v.visitorId),document.cookie=`browser_fingerprint=${v.visitorId}; path=/; max-age=31536000`}catch(r){console.error("Error loading FingerprintJS:",r)}})()},[]);const[i,n]=a.useState("input"),[o,f]=a.useState(""),[h,C]=a.useState([]),[d,m]=a.useState(""),[g,p]=a.useState([]),[y,x]=a.useState(""),[j,S]=a.useState("Conversational & Educational"),[L,Y]=a.useState(null),[w,b]=a.useState(!1),[B,R]=a.useState(!1),k={"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",...l&&{"X-Browser-Fingerprint":l}},G=async()=>{if(o.trim()){if(c<=0){_.error("You have no generations left.");return}b(!0),R(!0);try{const r=await(await fetch("/scripts/ideas",{method:"POST",headers:k,body:JSON.stringify({keyword:o})})).json();if(!r.success)throw new Error(r.message);C(r.ideas),Y(r.script_id),n("ideas"),E.reload({only:["menu_data","initialGuestCredits","userCredits"]})}catch(s){_.error(s.message)}finally{b(!1)}}},P=async s=>{console.log(s,"idea selected"),m(s),n("story"),b(!0);try{const v=await(await fetch("/scripts/story",{method:"POST",headers:k,body:JSON.stringify({script_id:L,title:s.Title})})).json();if(!v.success)throw new Error;p(v.story),E.reload({only:["initialGuestCredits","userCredits"]})}catch{_.error("Failed to generate story"),n("ideas")}finally{b(!1)}},V=async()=>{b(!0),n("script");try{const r=await(await fetch("/scripts/final",{method:"POST",headers:k,body:JSON.stringify({script_id:L})})).json();if(!r.success)throw new Error;x(r.script),S(r.tone),E.reload({only:["initialGuestCredits","userCredits"]})}catch{_.error("Failed to generate script"),n("story")}finally{b(!1)}},z=()=>{n("input"),f(""),C([]),m(""),p([]),x(""),R(!1)};return e.jsxs("div",{className:"mx-auto mt-4 w-full max-w-4xl",children:[i==="input"&&!w&&e.jsx("div",{className:"mb-8 rounded-2xl border bg-card p-6 shadow-card",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 md:flex-row md:justify-between",children:[e.jsx(W,{value:o,onChange:s=>f(s.target.value),onKeyDown:s=>s.key==="Enter"&&G(),placeholder:"Enter your topic",className:"h-14"}),e.jsxs(T,{size:"xl",onClick:G,disabled:!o||c<=0||!l,children:[e.jsx(O,{className:"h-5 w-5"}),"Generate Ideas"]})]})}),!I&&i==="input"&&!w&&e.jsxs("div",{className:"mt-[-20px] mb-8 text-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["You have ",c," free credits left."]}),e.jsxs("p",{className:"mt-1 text-sm font-bold",children:["Please"," ",e.jsx(A,{href:"/login",className:"text-primary hover:underline",children:"Login"}),e.jsx("span",{className:"mx-1 text-muted-foreground",children:"/"}),e.jsx(A,{href:"/register",className:"text-primary hover:underline",children:"Signup"}),e.jsxs("span",{className:"text-muted-foreground",children:[" ","for 10 more credit"]})]})]}),w&&e.jsx(q,{message:i==="ideas"?"Generating ideas...":i==="story"?"Crafting your story...":"Writing your script..."}),i==="ideas"&&B&&!w&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-8 text-start",children:e.jsxs("h2",{className:"text-2xl font-black tracking-tight",children:["Your Generated Ideas for"," ",e.jsxs("span",{className:"text-gradient",children:['"',o,'"']})]})}),e.jsx("div",{className:"grid gap-6",children:h.map((s,r)=>e.jsx(Z,{idea:s,index:r,onSelect:()=>P(s)},r))}),e.jsxs("div",{className:"mt-12 flex flex-col items-center justify-center gap-4 border-t border-border/10 pt-8 md:flex-row",children:[e.jsxs(T,{variant:"outline",size:"lg",className:"h-14 w-full rounded-2xl border-border/40 px-8 text-[11px] font-black tracking-widest uppercase transition-all hover:bg-muted/50 md:w-auto",onClick:()=>n("input"),children:[e.jsx(M,{className:"mr-3 h-4 w-4"}),"Change Topic"]}),e.jsxs(T,{variant:"default",size:"lg",onClick:G,disabled:c<=0,children:[e.jsx(Q,{className:"mr-3 h-4 w-4"}),"Regenerate Ideas"]})]})]}),i==="story"&&!w&&e.jsx(D,{selectedIdea:d,story:g,onGenerateScript:V,onBack:()=>n("ideas"),onRegenerate:function(){throw new Error("Function not implemented.")},isLoading:!1}),i==="script"&&!w&&e.jsx(U,{selectedIdea:d,script:y,tone:j,onBack:()=>n("story"),onStartOver:z,onRegenerate:function(){throw new Error("Function not implemented.")},isLoading:!1})]})},se=[{title:"Youtube Video Idea Generator",href:$().url}];function ke(){const t=H.c(16),{props:I}=J(),{filters:u,initialGuestCredits:c,isAuthenticated:l,userCredits:N}=I;let i;t[0]!==u?(i=u===void 0?{}:u,t[0]=u,t[1]=i):i=t[1];const n=i,o=n?.sort,f=n?.direction;let h;t[2]!==o||t[3]!==f?(h={field:o,direction:f},t[2]=o,t[3]=f,t[4]=h):h=t[4];const[C]=a.useState(h);let d;t[5]===Symbol.for("react.memo_cache_sentinel")?(d=e.jsxs(K,{children:[e.jsx("title",{children:"AI Video Scripts Generator"}),e.jsx("meta",{name:"description",content:"Generate professional YouTube video scripts using AI. Keyword to script in minutes."})]}),t[5]=d):d=t[5];let m;t[6]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-4 py-2 text-sm font-medium text-primary",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{children:"AI-Powered YouTube Strategy"})]}),t[6]=m):m=t[6];let g,p;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=e.jsxs("h1",{className:"text-4xl leading-tight font-extrabold md:text-5xl lg:text-6xl",children:["Turn Any Niche Into"," ",e.jsx("span",{className:"text-gradient",children:"Viral YouTube Ideas"})]}),p=e.jsx("p",{className:"mx-auto max-w-2xl text-lg leading-relaxed text-muted-foreground md:text-xl",children:"Beat creator's block in seconds. Get strategic, high-CTR video ideas tailored to your nicheâ€”complete with titles, thumbnail concepts, and hook scripts."}),t[7]=g,t[8]=p):(g=t[7],p=t[8]);let y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"5 Ideas per Generation"})]}),t[9]=y):y=t[9];let x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Copy-Ready Scripts"})]}),t[10]=x):x=t[10];let j;t[11]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsxs("div",{className:"mb-12 space-y-6 text-center",children:[m,g,p,e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm text-muted-foreground",children:[y,x,e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Free to Use"})]})]})]}),t[11]=j):j=t[11];let S;return t[12]!==c||t[13]!==l||t[14]!==N?(S=e.jsxs(ee,{breadcrumbs:se,children:[d,e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"container mx-auto px-4 py-12 md:py-20",children:[j,e.jsx(te,{initialGuestCredits:c,isAuthenticated:l,userCredits:N})]})})]}),t[12]=c,t[13]=l,t[14]=N,t[15]=S):S=t[15],S}export{ke as default};

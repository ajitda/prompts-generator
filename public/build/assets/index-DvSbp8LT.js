import{r as a,j as e,L as M,z as F,a as P,c as U,u as Q,H as ee}from"./app-C7nDqD9o.js";import{L as J,i as K}from"./LoadingState-B_tq50ch.js";import{I as D,S as H,a as q}from"./StoryView-DjXnoo-J.js";import{b as X,B as A}from"./createLucideIcon-BKSzS1BX.js";import{I as $}from"./input-B125d6fw.js";import{S as Y}from"./sparkles-DLmq1LeH.js";import{A as W}from"./arrow-left-DQHirbCe.js";import{R as Z}from"./rotate-ccw--PdkCB1o.js";import{S as te}from"./SceneView-Co-84AOF.js";import{A as se}from"./app-layout-kTfC638J.js";import{Z as z}from"./zap-Bq5H1PTY.js";/* empty css            */import"./chevron-right-VH8Ughm7.js";import"./check-BPnHl__S.js";import"./copy-CVZr_X8l.js";import"./message-square-v4gvhsVf.js";import"./card-UORzT9fm.js";import"./refresh-cw-Bbtus5GR.js";import"./file-text-Btv_yT_w.js";import"./monitor-CuEYnCT0.js";import"./clock-UcpQag4N.js";import"./dropdown-menu-CJr5cf6J.js";import"./index-CMH3vjNh.js";import"./index-s_1c2gj5.js";import"./index-CMWG4mbA.js";import"./index-BxvKVoC6.js";import"./video-BZ7dBBFX.js";const re=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],ae=X("Film",re);const ie=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],ne=X("ListChecks",ie),oe=({initialGuestCredits:t,isAuthenticated:O,userCredits:R})=>{const p=O?R??0:t??0,[y,T]=a.useState(null);a.useEffect(()=>{(async()=>{try{const o=await(await K.load()).get();T(o.visitorId),document.cookie=`browser_fingerprint=${o.visitorId}; path=/; max-age=31536000`}catch(s){console.error("Error loading FingerprintJS:",s)}})()},[]);const[n,i]=a.useState("input"),[c,G]=a.useState(""),[u,C]=a.useState([]),[h,w]=a.useState(null),[L,_]=a.useState([]),[E,b]=a.useState(""),[B,I]=a.useState("Conversational & Educational"),[N,v]=a.useState(null),[d,m]=a.useState(!1),[l,f]=a.useState(!1),x={"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",...y&&{"X-Browser-Fingerprint":y}},j=async()=>{if(c.trim()){if(p<=0){F.error("You have no generations left.");return}m(!0),f(!0);try{const s=await(await fetch("/generate/ideas",{method:"POST",headers:x,body:JSON.stringify({keyword:c,type:"youtube_idea"})})).json();if(!s.success)throw new Error(s.message);const o=Array.isArray(s.ideas)&&typeof s.ideas[0]=="string"?s.ideas.map(V=>({Title:V,Difficulty:"Medium"})):s.ideas;C(o),v(s.script_id),i("ideas"),P.reload({only:["menu_data","initialGuestCredits","userCredits"]})}catch(r){const s=r;F.error(s.message)}finally{m(!1)}}},k=async r=>{console.log(r,"idea selected"),w(r),i("story"),m(!0);try{const o=await(await fetch("/generate/story",{method:"POST",headers:x,body:JSON.stringify({script_id:N,title:r.Title})})).json();if(!o.success)throw new Error;_(o.story),P.reload({only:["initialGuestCredits","userCredits"]})}catch{F.error("Failed to generate story"),i("ideas")}finally{m(!1)}},g=async()=>{m(!0),i("script");try{const s=await(await fetch("/generate/final",{method:"POST",headers:x,body:JSON.stringify({script_id:N,title:h?.Title})})).json();if(!s.success)throw new Error;b(s.script),I(s.tone),P.reload({only:["initialGuestCredits","userCredits"]})}catch{F.error("Failed to generate script"),i("story")}finally{m(!1)}},S=()=>{i("input"),G(""),C([]),w(null),_([]),b(""),f(!1)};return e.jsxs("div",{className:"mx-auto mt-4 w-full max-w-4xl",children:[n==="input"&&!d&&e.jsx("div",{className:"mb-8 rounded-2xl border bg-card p-6 shadow-card",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 md:flex-row md:justify-between",children:[e.jsx($,{value:c,onChange:r=>G(r.target.value),onKeyDown:r=>r.key==="Enter"&&j(),placeholder:"Enter your topic",className:"h-14"}),e.jsxs(A,{size:"xl",onClick:j,disabled:!c||p<=0||!y,children:[e.jsx(Y,{className:"h-5 w-5"}),"Generate Ideas"]})]})}),!O&&n==="input"&&!d&&e.jsxs("div",{className:"mt-[-20px] mb-8 text-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["You have ",p," free credits left."]}),e.jsxs("p",{className:"mt-1 text-sm font-bold",children:["Please"," ",e.jsx(M,{href:"/login",className:"text-primary hover:underline",children:"Login"}),e.jsx("span",{className:"mx-1 text-muted-foreground",children:"/"}),e.jsx(M,{href:"/register",className:"text-primary hover:underline",children:"Signup"}),e.jsxs("span",{className:"text-muted-foreground",children:[" ","for 10 more credit"]})]})]}),d&&e.jsx(J,{message:n==="ideas"?"Generating ideas...":n==="story"?"Crafting your story...":"Writing your script..."}),n==="ideas"&&l&&!d&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"mb-8 text-start",children:e.jsxs("h2",{className:"text-2xl font-black tracking-tight",children:["Your Generated Ideas for"," ",e.jsxs("span",{className:"text-gradient",children:['"',c,'"']})]})}),e.jsx("div",{className:"grid gap-6",children:u.map((r,s)=>e.jsx(D,{idea:r,index:s,onSelect:()=>k(r)},s))}),e.jsxs("div",{className:"mt-12 flex flex-col items-center justify-center gap-4 border-t border-border/10 pt-8 md:flex-row",children:[e.jsxs(A,{variant:"outline",size:"lg",className:"h-14 w-full rounded-2xl border-border/40 px-8 text-[11px] font-black tracking-widest uppercase transition-all hover:bg-muted/50 md:w-auto",onClick:()=>i("input"),children:[e.jsx(W,{className:"mr-3 h-4 w-4"}),"Change Topic"]}),e.jsxs(A,{variant:"default",size:"lg",onClick:j,disabled:p<=0,children:[e.jsx(Z,{className:"mr-3 h-4 w-4"}),"Regenerate Ideas"]})]})]}),n==="story"&&!d&&e.jsx(H,{selectedIdea:h?.Title||"",story:L,onGenerateScript:g,onBack:()=>i("ideas"),onRegenerate:()=>k(h),isLoading:d}),n==="script"&&!d&&e.jsx(q,{selectedIdea:h?.Title||"",script:E,tone:B,onBack:()=>i("story"),onStartOver:S,onRegenerate:g,isLoading:d})]})},ce=({initialGuestCredits:t,isAuthenticated:O,userCredits:R})=>{const p=O?R??0:t??0,[y,T]=a.useState(null);a.useEffect(()=>{(async()=>{try{const o=await(await K.load()).get();T(o.visitorId),document.cookie=`browser_fingerprint=${o.visitorId}; path=/; max-age=31536000`}catch(s){console.error("Error loading FingerprintJS:",s)}})()},[]);const[n,i]=a.useState("input"),[c,G]=a.useState(""),[u,C]=a.useState([]),[h,w]=a.useState(null),[L,_]=a.useState([]),[E,b]=a.useState([]),[B,I]=a.useState(""),[N,v]=a.useState("Professional & Engaging"),[d,m]=a.useState(null),[l,f]=a.useState(!1),x={"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",...y&&{"X-Browser-Fingerprint":y}},j=async()=>{if(c.trim()){if(p<=0){F.error("You have no generations left.");return}f(!0);try{const s=await(await fetch("/generate/ideas",{method:"POST",headers:x,body:JSON.stringify({keyword:c,type:"video_script"})})).json();if(!s.success)throw new Error(s.message);const o=Array.isArray(s.ideas)&&typeof s.ideas[0]=="string"?s.ideas.map(V=>({Title:V,Difficulty:"Medium"})):s.ideas;C(o),m(s.script_id),i("concepts"),P.reload({only:["menu_data","initialGuestCredits","userCredits"]})}catch(r){const s=r;F.error(s.message)}finally{f(!1)}}},k=async r=>{w(r),i("outline"),f(!0);try{const o=await(await fetch("/generate/story",{method:"POST",headers:x,body:JSON.stringify({script_id:d,title:r.Title})})).json();if(!o.success)throw new Error;_(o.story),P.reload({only:["initialGuestCredits","userCredits"]})}catch{F.error("Failed to generate outline"),i("concepts")}finally{f(!1)}},g=async()=>{f(!0),i("script");try{const s=await(await fetch("/generate/detailed",{method:"POST",headers:x,body:JSON.stringify({script_id:d,title:h?.Title})})).json();if(!s.success)throw new Error;b(s.scenes||[]),I(s.script||""),v(s.tone),P.reload({only:["initialGuestCredits","userCredits"]})}catch{F.error("Failed to generate script"),i("outline")}finally{f(!1)}},S=()=>{i("input"),G(""),C([]),w(null),_([]),b([]),I("")};return e.jsxs("div",{className:"mx-auto mt-4 w-full max-w-4xl",children:[n==="input"&&!l&&e.jsx("div",{className:"mb-8 rounded-2xl border bg-card p-8 shadow-premium",children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-primary"}),"Video Project Topic"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"What is your video about? Be as specific as possible."})]}),e.jsxs("div",{className:"flex flex-col items-center gap-4 md:flex-row md:justify-between",children:[e.jsx($,{value:c,onChange:r=>G(r.target.value),onKeyDown:r=>r.key==="Enter"&&j(),placeholder:"e.g., How to start a small business in 2026",className:"h-14 text-lg"}),e.jsxs(A,{size:"xl",onClick:j,disabled:!c||p<=0||!y,className:"bg-primary hover:bg-primary/90 text-white shadow-lg shadow-primary/20",children:[e.jsx(Y,{className:"h-5 w-5"}),"Generate Concepts"]})]})]})}),!O&&n==="input"&&!l&&e.jsxs("div",{className:"mt-[-20px] mb-8 text-center bg-muted/30 p-4 rounded-xl border border-dashed",children:[e.jsxs("p",{className:"text-sm font-medium",children:["You have ",e.jsx("span",{className:"text-primary font-bold",children:p})," free script credits left."]}),e.jsxs("p",{className:"mt-1 text-xs",children:[e.jsx(M,{href:"/login",className:"text-primary font-bold hover:underline",children:"Login"})," or ",e.jsx(M,{href:"/register",className:"text-primary font-bold hover:underline",children:"Sign up"})," to get 10 more credits."]})]}),l&&e.jsx(J,{message:n==="concepts"?"Researching viral concepts...":n==="outline"?"Building the visual outline...":"Compiling detailed scene-by-scene script..."}),n==="concepts"&&!l&&e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"mb-8 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-2xl",children:e.jsx(ne,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black tracking-tight",children:"Script Concepts"}),e.jsxs("p",{className:"text-muted-foreground",children:["Choose a direction for your video on ",e.jsxs("span",{className:"font-bold",children:['"',c,'"']})]})]})]}),e.jsx("div",{className:"grid gap-6",children:u.map((r,s)=>e.jsx(D,{idea:r,index:s,onSelect:()=>k(r)},s))}),e.jsxs("div",{className:"mt-12 flex flex-col items-center justify-center gap-4 border-t pt-8 md:flex-row",children:[e.jsxs(A,{variant:"outline",size:"lg",className:"h-14 w-full md:w-auto",onClick:()=>i("input"),children:[e.jsx(W,{className:"mr-3 h-4 w-4"}),"Different Topic"]}),e.jsxs(A,{variant:"secondary",size:"lg",className:"h-14",onClick:j,disabled:p<=0,children:[e.jsx(Z,{className:"mr-3 h-4 w-4"}),"New Concepts"]})]})]}),n==="outline"&&!l&&e.jsx(H,{selectedIdea:h?.Title||"",story:L,onGenerateScript:g,onBack:()=>i("concepts"),onRegenerate:()=>k(h),isLoading:l}),n==="script"&&!l&&(E.length>0?e.jsx(te,{selectedIdea:h?.Title||"",scenes:E,tone:N,onBack:()=>i("outline"),onStartOver:S,onRegenerate:g,isLoading:l,readOnly:!1}):e.jsx(q,{selectedIdea:h?.Title||"",script:B,tone:N,onBack:()=>i("outline"),onStartOver:S,onRegenerate:g,isLoading:l,showExisting:!1}))]})};function Pe(){const t=U.c(36),{props:O}=Q(),{type:R,filters:p,initialGuestCredits:y,isAuthenticated:T,userCredits:n}=O,i=R===void 0?"youtube_idea":R;let c;t[0]!==p?(c=p===void 0?{}:p,t[0]=p,t[1]=c):c=t[1];const G=c,u=i==="youtube_idea",C=u?"YouTube Video Idea Generator":"Video Script Generator",h=u?"/youtube":"/scripts";let w;t[2]!==h||t[3]!==C?(w=[{title:C,href:h}],t[2]=h,t[3]=C,t[4]=w):w=t[4];const L=w,_=G?.sort,E=G?.direction;let b;t[5]!==_||t[6]!==E?(b={field:_,direction:E},t[5]=_,t[6]=E,t[7]=b):b=t[7];const[B]=a.useState(b);let I;t[8]===Symbol.for("react.memo_cache_sentinel")?(I=e.jsxs(ee,{children:[e.jsx("title",{children:"AI Video Scripts Generator"}),e.jsx("meta",{name:"description",content:"Generate professional YouTube video scripts using AI. Keyword to script in minutes."})]}),t[8]=I):I=t[8];let N;t[9]===Symbol.for("react.memo_cache_sentinel")?(N=e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-primary/10 px-4 py-2 text-sm font-medium text-primary",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{children:"AI-Powered YouTube Strategy"})]}),t[9]=N):N=t[9];let v;t[10]!==u?(v=e.jsx("h1",{className:"text-4xl leading-tight font-extrabold md:text-5xl lg:text-6xl",children:u?e.jsxs(e.Fragment,{children:["Turn Any Niche Into"," ",e.jsx("span",{className:"text-gradient",children:"Viral YouTube Ideas"})]}):e.jsxs(e.Fragment,{children:["Generate Professional"," ",e.jsx("span",{className:"text-gradient",children:"Video Scripts"})," In Seconds"]})}),t[10]=u,t[11]=v):v=t[11];const d=u?"Beat creator's block in seconds. Get strategic, high-CTR video ideas tailored to your nicheâ€”complete with titles, thumbnail concepts, and hook scripts.":"Go from keyword to a scene-by-scene professional video script. Perfect for YouTube, TikTok, or corporate videos.";let m;t[12]!==d?(m=e.jsx("p",{className:"mx-auto max-w-2xl text-lg leading-relaxed text-muted-foreground md:text-xl",children:d}),t[12]=d,t[13]=m):m=t[13];let l;t[14]===Symbol.for("react.memo_cache_sentinel")?(l=e.jsx(z,{className:"h-4 w-4 text-primary"}),t[14]=l):l=t[14];const f=u?"5 Ideas per Generation":"5 Scripts per Generation";let x;t[15]!==f?(x=e.jsxs("div",{className:"flex items-center gap-2",children:[l,e.jsx("span",{children:f})]}),t[15]=f,t[16]=x):x=t[16];let j;t[17]===Symbol.for("react.memo_cache_sentinel")?(j=e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Copy-Ready Scripts"})]}),t[17]=j):j=t[17];let k;t[18]===Symbol.for("react.memo_cache_sentinel")?(k=e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Free to Use"})]}),t[18]=k):k=t[18];let g;t[19]!==x?(g=e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm text-muted-foreground",children:[x,j,k]}),t[19]=x,t[20]=g):g=t[20];let S;t[21]!==v||t[22]!==m||t[23]!==g?(S=e.jsxs("div",{className:"mb-12 space-y-6 text-center",children:[N,v,m,g]}),t[21]=v,t[22]=m,t[23]=g,t[24]=S):S=t[24];let r;t[25]!==y||t[26]!==T||t[27]!==u||t[28]!==n?(r=u?e.jsx(oe,{initialGuestCredits:y,isAuthenticated:T,userCredits:n}):e.jsx(ce,{initialGuestCredits:y,isAuthenticated:T,userCredits:n}),t[25]=y,t[26]=T,t[27]=u,t[28]=n,t[29]=r):r=t[29];let s;t[30]!==S||t[31]!==r?(s=e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"container mx-auto px-4 py-12 md:py-20",children:[S,r]})}),t[30]=S,t[31]=r,t[32]=s):s=t[32];let o;return t[33]!==L||t[34]!==s?(o=e.jsxs(se,{breadcrumbs:L,children:[I,s]}),t[33]=L,t[34]=s,t[35]=o):o=t[35],o}export{Pe as default};

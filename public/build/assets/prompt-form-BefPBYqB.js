import{u as P,b as S,r as d,j as e,z as o,a as F}from"./app-Cwp10g0-.js";import{I as E}from"./input-error-CTZo3rpv.js";import{b as G,B as p}from"./createLucideIcon-BcYgupJn.js";import{C as z,a as T,b as D,c as I}from"./card-CNOdFIzm.js";import{L as O}from"./label-yFv9alBs.js";import{S as K}from"./sparkles-DTAQj5Bs.js";import{C as L}from"./check-DIhuuomd.js";import{C as W}from"./copy-B1TQ21jN.js";/* empty css            */import"./index-BqZn0hqr.js";const H=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],M=G("Save",H);function U(){const{auth:m,session_data:a}=P().props,x="/youtube/prompts",y=()=>({url:x}),{data:n,setData:u,post:f,errors:k,processing:s,reset:j}=S({keyword:a?.savedKeyword||"",prompt:a?.savedPrompt||""}),[l,c]=d.useState(""),[i,g]=d.useState(!1),[v,h]=d.useState(!1),b=async()=>{if(n.keyword.trim()){g(!0);try{const t=await(await fetch("/prompts/generate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({keyword:n.keyword})})).json();t.success?(c(t.prompt),o.success("Prompt generated successfully!")):o.error(t.message||"Failed to generate prompt")}catch(r){console.error("Error generating prompt:",r),o.error("Failed to generate prompt")}finally{g(!1)}}},w=r=>{r.key==="Enter"&&(r.preventDefault(),b())},N=async()=>{await navigator.clipboard.writeText(l),h(!0),setTimeout(()=>h(!1),2e3)},C=r=>{if(r.preventDefault(),!m?.user){F.visit("/login");return}f(y().url,{onSuccess:()=>{j(),c(""),o.success("Prompt saved successfully!")},onError:t=>{console.error("Validation Errors:",t),o.error("Failed to save. Check requirements.")}})};return d.useEffect(()=>{if(a?.savedPrompt){const r=a.savedPrompt;c(r)}},[a?.savedPrompt]),e.jsx(e.Fragment,{children:e.jsxs(z,{children:[e.jsx(T,{children:e.jsx(D,{children:"Generate Your Prompt"})}),e.jsx(I,{children:e.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 gap-6",autoComplete:"off",children:[e.jsxs("div",{children:[e.jsx(O,{htmlFor:"keyword",className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"What do you want the AI to do?"}),e.jsx("textarea",{value:n.keyword,onChange:r=>u("keyword",r.target.value),onKeyDown:w,name:"keyword",id:"keyword",disabled:s||i,placeholder:"Example: Write a blog post about sustainable living for beginners",className:"min-h-[120px] w-full resize-y rounded-lg border-2 border-gray-200 bg-white p-4 text-gray-900 transition-colors focus:border-purple-500 focus:ring-2 focus:ring-purple-200 focus:outline-none dark:border-gray-700 dark:bg-gray-900 dark:text-white dark:focus:ring-purple-800"}),e.jsx(E,{message:k.keyword})]}),e.jsxs("div",{className:"rounded-xl bg-blue-50 p-5 dark:bg-blue-900/20",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Quick Examples (Click to use):"}),e.jsx("div",{className:"space-y-3",children:["Write an email to a client about project delay","Create a study plan for learning Python","Generate a social media post for a coffee shop","Write a product description for a smartwatch"].map((r,t)=>e.jsx("div",{onClick:()=>u("keyword",r),className:"cursor-pointer rounded-lg border border-gray-200 bg-white p-4 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:["ðŸ“§","ðŸ“š","â˜•","ðŸ’»"][t]}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r})]})},t))})]}),e.jsx("div",{children:e.jsx(p,{onClick:b,disabled:!n.keyword.trim()||i||s,className:"w-full transform cursor-pointer rounded-lg bg-gradient-to-r from-purple-600 to-purple-800 px-10 py-4 font-semibold text-white transition-all duration-200 hover:-translate-y-0.5 hover:from-purple-700 hover:to-purple-900 hover:shadow-lg disabled:transform-none disabled:cursor-not-allowed disabled:opacity-50",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"mr-2 inline-block h-5 w-5"}),"Generate Optimized Prompt"]})})}),i&&e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mb-4 inline-block h-10 w-10 animate-spin rounded-full border-4 border-purple-200 border-t-purple-600"}),e.jsx("p",{className:"text-purple-600 dark:text-purple-400",children:"Generating your optimized prompt..."})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-xl bg-gray-50 p-6 dark:bg-gray-800",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900 dark:text-white",children:"Your Optimized Prompt:"}),e.jsx("div",{className:"min-h-[120px] rounded-lg border-l-4 border-purple-500 bg-white p-5 leading-relaxed whitespace-pre-wrap text-gray-700 dark:bg-gray-900 dark:text-gray-300",children:l}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsx(p,{onClick:N,disabled:s,className:"rounded-lg bg-green-600 px-8 py-3 font-medium text-white transition-colors hover:bg-green-700",children:v?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 inline-block h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 inline-block h-4 w-4"}),"Copy to Clipboard"]})})})]}),e.jsx("div",{children:e.jsx(p,{type:"submit",disabled:s,className:"w-full transform rounded-lg bg-gradient-to-r from-indigo-600 to-indigo-800 px-10 py-4 font-semibold text-white transition-all duration-200 hover:-translate-y-0.5 hover:from-indigo-700 hover:to-indigo-900 hover:shadow-lg disabled:transform-none disabled:cursor-not-allowed disabled:opacity-50",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"mr-2 inline-block h-5 w-5"}),m?.user?"Save Prompt":"Login to Save Prompt"]})})})]})]})})]})})}export{U as default};

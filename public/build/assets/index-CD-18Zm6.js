import{r as i,j as e,L as f,a as N,z as j,c as w,u as v,H as C}from"./app-Cwp10g0-.js";import{L as k,i as S}from"./LoadingState-yjayOK_P.js";import{B as d}from"./createLucideIcon-BcYgupJn.js";import{C as T}from"./card-CNOdFIzm.js";import{I}from"./input-jOelq43f.js";import{S as E}from"./sparkles-DTAQj5Bs.js";import{C as G}from"./check-DIhuuomd.js";import{C as L}from"./copy-B1TQ21jN.js";import{R as F}from"./rotate-ccw-DBiH2Uh3.js";import{A as _}from"./app-layout-BscPY5MF.js";/* empty css            */import"./index-BkIHvJOX.js";import"./logo-7M_vJBux.js";import"./index-BqZn0hqr.js";import"./index-BMf5Il-T.js";import"./index-CMWG4mbA.js";import"./index-3OyOFFoq.js";import"./message-square-XGJV9Lx8.js";const A=({isAuthenticated:r})=>{const[c,l]=i.useState(null),[a,o]=i.useState(""),[n,p]=i.useState([]),[m,x]=i.useState(!1),[b,u]=i.useState(null);i.useEffect(()=>{(async()=>{try{const g=await(await S.load()).get();l(g.visitorId),document.cookie=`browser_fingerprint=${g.visitorId}; path=/; max-age=31536000`}catch(s){console.error("Error loading FingerprintJS:",s)}})()},[]);const h=async()=>{if(a.trim()){x(!0);try{const s=await(await fetch("/captions/generate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",...c&&{"X-Browser-Fingerprint":c}},body:JSON.stringify({topic:a})})).json();if(!s.success)throw new Error(s.message);p(s.captions),N.reload({only:["menu_data"]})}catch(t){j.error(t.message||"Failed to generate captions")}finally{x(!1)}}},y=(t,s)=>{navigator.clipboard.writeText(t),u(s),setTimeout(()=>u(null),2e3),j.success("Copied to clipboard!")};return e.jsxs("div",{className:"mx-auto w-full max-w-4xl",children:[e.jsx("div",{className:"mb-8 rounded-2xl border bg-card p-6 shadow-card",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 md:flex-row md:justify-between",children:[e.jsx(I,{value:a,onChange:t=>o(t.target.value),onKeyDown:t=>t.key==="Enter"&&h(),placeholder:"Enter your post topic (e.g. My morning coffee routine)",className:"h-14"}),e.jsxs(d,{size:"xl",onClick:h,disabled:!a||m||!c,children:[e.jsx(E,{className:"h-5 w-5"}),"Generate Captions"]})]})}),m&&e.jsx(k,{message:"Generating viral captions..."}),!m&&n.length>0&&e.jsxs("div",{className:"grid gap-6",children:[n.map((t,s)=>e.jsxs(T,{className:"animate-reveal border-border/40 bg-card/50 p-6 backdrop-blur-xl transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[10px] font-black tracking-widest text-primary uppercase",children:t.Style}),e.jsx(d,{variant:"ghost",size:"sm",className:"transition-colors hover:bg-primary/10 hover:text-primary",onClick:()=>y(`${t.Content}

${t.Hashtags}`,s),children:b===s?e.jsx(G,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"mb-4 text-lg leading-relaxed font-medium whitespace-pre-wrap text-foreground",children:t.Content}),e.jsx("p",{className:"text-sm font-bold tracking-tight text-primary",children:t.Hashtags})]},s)),e.jsx("div",{className:"mt-12 flex justify-center",children:e.jsxs(d,{variant:"outline",className:"h-14 rounded-2xl border-border/40 px-8 text-xs font-black tracking-widest uppercase",onClick:()=>{o(""),p([])},children:[e.jsx(F,{className:"mr-3 h-4 w-4"}),"Start Over"]})})]}),!m&&n.length===0&&!r&&e.jsx("div",{className:"animate-reveal mt-[-20px] mb-8 text-center",children:e.jsxs("p",{className:"mt-1 text-sm font-bold",children:["Please"," ",e.jsx(f,{href:"/login",className:"text-primary hover:underline",children:"Login"}),e.jsx("span",{className:"mx-1 text-muted-foreground",children:"/"}),e.jsx(f,{href:"/register",className:"text-primary hover:underline",children:"Signup"}),e.jsxs("span",{className:"text-muted-foreground",children:[" ","for more features"]})]})})]})},R=[{title:"Caption Generator",href:"/youtube/captions"}];function ee(){const r=w.c(4),{props:c}=v(),{isAuthenticated:l}=c;let a;r[0]===Symbol.for("react.memo_cache_sentinel")?(a=e.jsxs(C,{children:[e.jsx("title",{children:"TikTok & Instagram Caption Generator"}),e.jsx("meta",{name:"description",content:"Generate high-engagement captions for TikTok and Instagram using AI."})]}),r[0]=a):a=r[0];let o;r[1]===Symbol.for("react.memo_cache_sentinel")?(o=e.jsxs("div",{className:"mb-12 text-center",children:[e.jsxs("h1",{className:"mb-4 text-4xl font-black tracking-tight text-foreground md:text-6xl",children:["Social Media"," ",e.jsx("span",{className:"text-gradient",children:"Caption"})," ","Generator"]}),e.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Create viral-worthy captions for TikTok and Instagram in seconds. Built for creators who want to save time and boost engagement."})]}),r[1]=o):o=r[1];let n;return r[2]!==l?(n=e.jsxs(_,{breadcrumbs:R,children:[a,e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"container mx-auto px-4 py-12 md:py-20",children:[o,e.jsx(A,{isAuthenticated:l})]})})]}),r[2]=l,r[3]=n):n=r[3],n}export{ee as default};

import{r as l,j as e,L as N,z as u,a as v,c as k,u as S,H as T}from"./app-C7nDqD9o.js";import{L as I,i as G}from"./LoadingState-B_tq50ch.js";import{B as h}from"./createLucideIcon-BKSzS1BX.js";import{C as E}from"./card-UORzT9fm.js";import{I as L}from"./input-B125d6fw.js";import{S as F}from"./sparkles-DLmq1LeH.js";import{C as _}from"./check-BPnHl__S.js";import{C as R}from"./copy-CVZr_X8l.js";import{R as z}from"./rotate-ccw--PdkCB1o.js";import{A}from"./app-layout-kTfC638J.js";/* empty css            */import"./dropdown-menu-CJr5cf6J.js";import"./index-CMH3vjNh.js";import"./index-s_1c2gj5.js";import"./index-CMWG4mbA.js";import"./index-BxvKVoC6.js";import"./video-BZ7dBBFX.js";import"./message-square-v4gvhsVf.js";import"./chevron-right-VH8Ughm7.js";const B=({initialGuestCredits:t,isAuthenticated:d,userCredits:m})=>{const n=d?m??0:t??0,[o,c]=l.useState(null),[a,i]=l.useState(""),[x,g]=l.useState([]),[p,f]=l.useState(!1),[C,j]=l.useState(null);l.useEffect(()=>{(async()=>{try{const y=await(await G.load()).get();c(y.visitorId),document.cookie=`browser_fingerprint=${y.visitorId}; path=/; max-age=31536000`}catch(s){console.error("Error loading FingerprintJS:",s)}})()},[]);const b=async()=>{if(a.trim()){if(n<=0){u.error("You have no generations left.");return}f(!0);try{const s=await(await fetch("/captions/generate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",...o&&{"X-Browser-Fingerprint":o}},body:JSON.stringify({topic:a})})).json();if(!s.success)throw new Error(s.message);g(s.captions),v.reload({only:["menu_data","initialGuestCredits","userCredits"]})}catch(r){u.error(r.message||"Failed to generate captions")}finally{f(!1)}}},w=(r,s)=>{navigator.clipboard.writeText(r),j(s),setTimeout(()=>j(null),2e3),u.success("Copied to clipboard!")};return e.jsxs("div",{className:"mx-auto w-full max-w-4xl",children:[e.jsx("div",{className:"mb-8 rounded-2xl border bg-card p-6 shadow-card",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 md:flex-row md:justify-between",children:[e.jsx(L,{value:a,onChange:r=>i(r.target.value),onKeyDown:r=>r.key==="Enter"&&b(),placeholder:"Enter your post topic (e.g. My morning coffee routine)",className:"h-14"}),e.jsxs(h,{size:"xl",onClick:b,disabled:!a||p||!o||n<=0,children:[e.jsx(F,{className:"h-5 w-5"}),"Generate Captions"]})]})}),p&&e.jsx(I,{message:"Generating viral captions..."}),!p&&x.length>0&&e.jsxs("div",{className:"grid gap-6",children:[x.map((r,s)=>e.jsxs(E,{className:"animate-reveal border-border/40 bg-card/50 p-6 backdrop-blur-xl transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-[10px] font-black tracking-widest text-primary uppercase",children:r.Style}),e.jsx(h,{variant:"ghost",size:"sm",className:"transition-colors hover:bg-primary/10 hover:text-primary",onClick:()=>w(`${r.Content}

${r.Hashtags}`,s),children:C===s?e.jsx(_,{className:"h-4 w-4"}):e.jsx(R,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"mb-4 text-lg leading-relaxed font-medium whitespace-pre-wrap text-foreground",children:r.Content}),e.jsx("p",{className:"text-sm font-bold tracking-tight text-primary",children:r.Hashtags})]},s)),e.jsx("div",{className:"mt-12 flex justify-center",children:e.jsxs(h,{variant:"outline",className:"h-14 rounded-2xl border-border/40 px-8 text-xs font-black tracking-widest uppercase",onClick:()=>{i(""),g([])},children:[e.jsx(z,{className:"mr-3 h-4 w-4"}),"Start Over"]})})]}),!p&&x.length===0&&!d&&e.jsxs("div",{className:"animate-reveal mt-[-20px] mb-8 text-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["You have ",n," free credits left."]}),e.jsxs("p",{className:"mt-1 text-sm font-bold",children:["Please"," ",e.jsx(N,{href:"/login",className:"text-primary hover:underline",children:"Login"}),e.jsx("span",{className:"mx-1 text-muted-foreground",children:"/"}),e.jsx(N,{href:"/register",className:"text-primary hover:underline",children:"Signup"}),e.jsxs("span",{className:"text-muted-foreground",children:[" ","for 10 more credit"]})]})]})]})},H=[{title:"Caption Generator",href:"/youtube/captions"}];function ae(){const t=k.c(6),{props:d}=S(),{isAuthenticated:m,initialGuestCredits:n,userCredits:o}=d;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsxs(T,{children:[e.jsx("title",{children:"TikTok & Instagram Caption Generator"}),e.jsx("meta",{name:"description",content:"Generate high-engagement captions for TikTok and Instagram using AI."})]}),t[0]=c):c=t[0];let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e.jsxs("div",{className:"mb-12 text-center",children:[e.jsxs("h1",{className:"mb-4 text-4xl font-black tracking-tight text-foreground md:text-6xl",children:["Social Media"," ",e.jsx("span",{className:"text-gradient",children:"Caption"})," ","Generator"]}),e.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Create viral-worthy captions for TikTok and Instagram in seconds. Built for creators who want to save time and boost engagement."})]}),t[1]=a):a=t[1];let i;return t[2]!==n||t[3]!==m||t[4]!==o?(i=e.jsxs(A,{breadcrumbs:H,children:[c,e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("main",{className:"container mx-auto px-4 py-12 md:py-20",children:[a,e.jsx(B,{isAuthenticated:m,initialGuestCredits:n,userCredits:o})]})})]}),t[2]=n,t[3]=m,t[4]=o,t[5]=i):i=t[5],i}export{ae as default};

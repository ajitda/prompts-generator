import{r as c,c as n,j as a,z as G}from"./app-C5QSP51v.js";import{a as d,B as M}from"./createLucideIcon-BZpEQAU8.js";import{b as ee,d as se,a as te,c as le,C as ae}from"./card-CuYTeNzB.js";import{A as re}from"./arrow-left-BuJ4EKzo.js";import{C as J}from"./check-Dc4Fgg7M.js";import{S as K}from"./sparkles-Cia3YU2G.js";import{C as ie}from"./copy-X5M20Qxi.js";import{M as oe}from"./monitor-BsvPmHe0.js";import{C as ce}from"./clock-DVJXHRos.js";import{R as ne}from"./refresh-cw-cm3UWrt1.js";const Q=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("w-full caption-bottom text-sm",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:s,className:l,...r})}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});Q.displayName="Table";const U=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("[&_tr]:border-b",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("thead",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});U.displayName="TableHeader";const W=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("[&_tr:last-child]:border-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("tbody",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});W.displayName="TableBody";const de=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("border-t bg-muted/50 font-medium [&_tr]:last-child:border-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("tfoot",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});de.displayName="TableFooter";const P=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("tr",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});P.displayName="TableRow";const T=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("th",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});T.displayName="TableHead";const S=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("td",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});S.displayName="TableCell";const me=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=d("mt-4 text-sm text-muted-foreground",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("caption",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});me.displayName="TableCaption";const _e=i=>{const s=n.c(50),{selectedIdea:e,scenes:t,tone:r,onBack:l,onRegenerate:o,onStartOver:O,isLoading:R,readOnly:Y}=i,X=r===void 0?null:r,m=Y===void 0?!1:Y,[V,q]=c.useState(!1);let $;s[0]!==t?($=async()=>{try{const Z=t.map(fe).join(`

`);await navigator.clipboard.writeText(Z),q(!0),G.success("Copied to clipboard"),setTimeout(()=>q(!1),2e3)}catch{G.error("Couldn't copy")}},s[0]=t,s[1]=$):$=s[1];const I=$;let f;s[2]!==l||s[3]!==m?(f=!m&&a.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 font-medium text-muted-foreground hover:text-foreground text-sm transition-colors duration-250",children:[a.jsx(re,{className:"w-4 h-4"}),"Back to outline"]}),s[2]=l,s[3]=m,s[4]=f):f=s[4];let k;s[5]===Symbol.for("react.memo_cache_sentinel")?(k=a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex justify-center items-center bg-success/10 rounded-xl w-10 h-10",children:a.jsx(J,{className:"w-5 h-5 text-success"})}),a.jsx("h2",{className:"font-semibold text-foreground text-2xl",children:"Your Detailed Script is Ready"})]}),s[5]=k):k=s[5];let x;s[6]!==e?(x=a.jsxs("div",{className:"space-y-2",children:[k,a.jsx("p",{className:"text-muted-foreground font-medium",children:e})]}),s[6]=e,s[7]=x):x=s[7];let B;s[8]===Symbol.for("react.memo_cache_sentinel")?(B=a.jsx(K,{className:"w-4 h-4 text-primary"}),s[8]=B):B=s[8];const L=X||"Professional";let p;s[9]!==L?(p=a.jsxs("div",{className:"flex items-center gap-2 bg-secondary px-4 py-2 rounded-full text-secondary-foreground text-sm font-semibold",children:[B,"Tone: ",L]}),s[9]=L,s[10]=p):p=s[10];let u;s[11]!==x||s[12]!==p?(u=a.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4",children:[x,p]}),s[11]=x,s[12]=p,s[13]=u):u=s[13];let h;s[14]!==u||s[15]!==f?(h=a.jsxs("div",{className:"space-y-4",children:[f,u]}),s[14]=u,s[15]=f,s[16]=h):h=s[16];let E;s[17]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(ee,{className:"text-lg",children:"Scene-by-Scene Storyboard"}),s[17]=E):E=s[17];let N;s[18]!==t?(N=t.reduce(xe,0),s[18]=t,s[19]=N):N=s[19];let b;s[20]!==N?(b=a.jsxs("div",{children:[E,a.jsxs(se,{children:["Total Est. Duration: ",N,"s"]})]}),s[20]=N,s[21]=b):b=s[21];let j;s[22]!==V?(j=V?a.jsxs(a.Fragment,{children:[a.jsx(J,{className:"w-4 h-4"}),"Copied"]}):a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"w-4 h-4"}),"Copy Everything"]}),s[22]=V,s[23]=j):j=s[23];let y;s[24]!==I||s[25]!==j?(y=a.jsx(M,{variant:"default",size:"sm",onClick:I,className:"gap-2 shadow-sm",children:j}),s[24]=I,s[25]=j,s[26]=y):y=s[26];let g;s[27]!==b||s[28]!==y?(g=a.jsx(te,{className:"bg-muted/30 border-border border-b",children:a.jsxs("div",{className:"flex justify-between items-center",children:[b,y]})}),s[27]=b,s[28]=y,s[29]=g):g=s[29];let H;s[30]===Symbol.for("react.memo_cache_sentinel")?(H=a.jsx(T,{className:"w-16",children:"#"}),s[30]=H):H=s[30];let A;s[31]===Symbol.for("react.memo_cache_sentinel")?(A=a.jsx(T,{className:"min-w-[200px]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oe,{className:"w-4 h-4"}),"Visual / Storyboard"]})}),s[31]=A):A=s[31];let F;s[32]===Symbol.for("react.memo_cache_sentinel")?(F=a.jsx(T,{className:"min-w-[300px]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(K,{className:"w-4 h-4"}),"Narration / Audio"]})}),s[32]=F):F=s[32];let z;s[33]===Symbol.for("react.memo_cache_sentinel")?(z=a.jsx(U,{className:"bg-muted/50",children:a.jsxs(P,{children:[H,A,F,a.jsx(T,{className:"w-24 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(ce,{className:"w-4 h-4"}),"Time"]})})]})}),s[33]=z):z=s[33];let w;s[34]!==t?(w=t.map(pe),s[34]=t,s[35]=w):w=s[35];let v;s[36]!==w?(v=a.jsx(le,{className:"p-0",children:a.jsxs(Q,{children:[z,a.jsx(W,{children:w})]})}),s[36]=w,s[37]=v):v=s[37];let C;s[38]!==g||s[39]!==v?(C=a.jsxs(ae,{className:"overflow-hidden shadow-premium border-none",children:[g,v]}),s[38]=g,s[39]=v,s[40]=C):C=s[40];let _;s[41]!==R||s[42]!==o||s[43]!==O||s[44]!==m?(_=!m&&a.jsxs("div",{className:"flex sm:flex-row flex-col gap-3 pt-4",children:[a.jsxs(M,{variant:"outline",onClick:o,disabled:R,className:"gap-2 h-12",children:[a.jsx(ne,{className:`h-4 w-4 ${R?"animate-spin":""}`}),"Regenerate script"]}),a.jsx(M,{onClick:O,className:"gap-2 h-12 px-8",children:"Start new video"})]}),s[41]=R,s[42]=o,s[43]=O,s[44]=m,s[45]=_):_=s[45];let D;return s[46]!==h||s[47]!==C||s[48]!==_?(D=a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[h,C,_]}),s[46]=h,s[47]=C,s[48]=_,s[49]=D):D=s[49],D};function fe(i){return`Scene ${i.scene_number} (${i.duration}s)
Visual: ${i.visual}
Audio: ${i.audio}`}function xe(i,s){return i+(parseInt(s.duration)||0)}function pe(i){return a.jsxs(P,{className:"hover:bg-muted/20 transition-colors",children:[a.jsx(S,{className:"font-bold text-muted-foreground",children:i.scene_number}),a.jsx(S,{className:"text-sm leading-relaxed",children:i.visual}),a.jsx(S,{className:"text-sm leading-relaxed font-medium",children:i.audio}),a.jsxs(S,{className:"text-right tabular-nums text-primary font-bold",children:[i.duration,"s"]})]},i.scene_number)}export{_e as S};

import{u as P,b as S,r as l,j as e,z as o,a as F}from"./app-CThpzE_h.js";import{I as E}from"./input-error-DButWYSc.js";import{B as m}from"./createLucideIcon-BVfCT0Zv.js";import{C as G,a as z,b as T,c as D}from"./card-BxsZVQAi.js";import{L as O}from"./label-BIRZhG3X.js";import{S as I}from"./sparkles-C3zsSJ3z.js";import{C as K}from"./check-DHM302km.js";import{C as W}from"./copy-BPCOY54z.js";import{S as L}from"./save-PqdDJUm6.js";/* empty css            */import"./index-CJuSD76T.js";function M(){const{auth:p,session_data:s}=P().props,b="/youtube/prompts",f=()=>({url:b}),{data:n,setData:u,post:y,errors:j,processing:a,reset:w}=S({keyword:s?.savedKeyword||"",prompt:s?.savedPrompt||""}),[d,c]=l.useState(""),[i,g]=l.useState(!1),[k,h]=l.useState(!1),x=async()=>{if(n.keyword.trim()){g(!0);try{const t=await(await fetch("/prompts/generate",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},body:JSON.stringify({keyword:n.keyword})})).json();t.success?(c(t.prompt),o.success("Prompt generated successfully!")):o.error(t.message||"Failed to generate prompt")}catch(r){console.error("Error generating prompt:",r),o.error("Failed to generate prompt")}finally{g(!1)}}},v=r=>{r.key==="Enter"&&(r.preventDefault(),x())},N=async()=>{await navigator.clipboard.writeText(d),h(!0),setTimeout(()=>h(!1),2e3)},C=r=>{if(r.preventDefault(),!p?.user){F.visit("/login");return}y(f().url,{onSuccess:()=>{w(),c(""),o.success("Prompt saved successfully!")},onError:t=>{console.error("Validation Errors:",t),o.error("Failed to save. Check requirements.")}})};return l.useEffect(()=>{if(s?.savedPrompt){const r=s.savedPrompt;c(r)}},[s?.savedPrompt]),e.jsx(e.Fragment,{children:e.jsxs(G,{children:[e.jsx(z,{children:e.jsx(T,{children:"Generate Your Prompt"})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 gap-6",autoComplete:"off",children:[e.jsxs("div",{children:[e.jsx(O,{htmlFor:"keyword",className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300",children:"What do you want the AI to do?"}),e.jsx("textarea",{value:n.keyword,onChange:r=>u("keyword",r.target.value),onKeyDown:v,name:"keyword",id:"keyword",disabled:a||i,placeholder:"Example: Write a blog post about sustainable living for beginners",className:"min-h-[120px] w-full resize-y rounded-lg border-2 border-gray-200 bg-white p-4 text-gray-900 transition-colors focus:border-purple-500 focus:ring-2 focus:ring-purple-200 focus:outline-none dark:border-gray-700 dark:bg-gray-900 dark:text-white dark:focus:ring-purple-800"}),e.jsx(E,{message:j.keyword})]}),e.jsxs("div",{className:"rounded-xl bg-blue-50 p-5 dark:bg-blue-900/20",children:[e.jsx("h3",{className:"mb-3 text-lg font-semibold text-blue-800 dark:text-blue-300",children:"Quick Examples (Click to use):"}),e.jsx("div",{className:"space-y-3",children:["Write an email to a client about project delay","Create a study plan for learning Python","Generate a social media post for a coffee shop","Write a product description for a smartwatch"].map((r,t)=>e.jsx("div",{onClick:()=>u("keyword",r),className:"cursor-pointer rounded-lg border border-gray-200 bg-white p-4 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg",children:["ðŸ“§","ðŸ“š","â˜•","ðŸ’»"][t]}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r})]})},t))})]}),e.jsx("div",{children:e.jsx(m,{onClick:x,disabled:!n.keyword.trim()||i||a,className:"w-full transform cursor-pointer rounded-lg bg-gradient-to-r from-purple-600 to-purple-800 px-10 py-4 font-semibold text-white transition-all duration-200 hover:-translate-y-0.5 hover:from-purple-700 hover:to-purple-900 hover:shadow-lg disabled:transform-none disabled:cursor-not-allowed disabled:opacity-50",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 inline-block h-5 w-5"}),"Generate Optimized Prompt"]})})}),i&&e.jsxs("div",{className:"py-8 text-center",children:[e.jsx("div",{className:"mb-4 inline-block h-10 w-10 animate-spin rounded-full border-4 border-purple-200 border-t-purple-600"}),e.jsx("p",{className:"text-purple-600 dark:text-purple-400",children:"Generating your optimized prompt..."})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-xl bg-gray-50 p-6 dark:bg-gray-800",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900 dark:text-white",children:"Your Optimized Prompt:"}),e.jsx("div",{className:"min-h-[120px] rounded-lg border-l-4 border-purple-500 bg-white p-5 leading-relaxed whitespace-pre-wrap text-gray-700 dark:bg-gray-900 dark:text-gray-300",children:d}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsx(m,{onClick:N,disabled:a,className:"rounded-lg bg-green-600 px-8 py-3 font-medium text-white transition-colors hover:bg-green-700",children:k?e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"mr-2 inline-block h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"mr-2 inline-block h-4 w-4"}),"Copy to Clipboard"]})})})]}),e.jsx("div",{children:e.jsx(m,{type:"submit",disabled:a,className:"w-full transform rounded-lg bg-gradient-to-r from-indigo-600 to-indigo-800 px-10 py-4 font-semibold text-white transition-all duration-200 hover:-translate-y-0.5 hover:from-indigo-700 hover:to-indigo-900 hover:shadow-lg disabled:transform-none disabled:cursor-not-allowed disabled:opacity-50",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 inline-block h-5 w-5"}),p?.user?"Save Prompt":"Login to Save Prompt"]})})})]})]})})]})})}export{M as default};

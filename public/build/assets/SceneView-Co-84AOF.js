import{r as c,c as n,j as a,z as Q}from"./app-C7nDqD9o.js";import{a as m,B as G}from"./createLucideIcon-BKSzS1BX.js";import{b as le,d as ae,a as re,c as ie,C as oe}from"./card-UORzT9fm.js";import{A as ce}from"./arrow-left-DQHirbCe.js";import{C as U}from"./check-BPnHl__S.js";import{S as W}from"./sparkles-DLmq1LeH.js";import{C as ne}from"./copy-CVZr_X8l.js";import{M as me}from"./monitor-CuEYnCT0.js";import{C as de}from"./clock-UcpQag4N.js";import{R as fe}from"./refresh-cw-Bbtus5GR.js";const X=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("w-full caption-bottom text-sm",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:s,className:l,...r})}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});X.displayName="Table";const Z=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("[&_tr]:border-b",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("thead",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});Z.displayName="TableHeader";const ee=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("[&_tr:last-child]:border-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("tbody",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});ee.displayName="TableBody";const xe=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("border-t bg-muted/50 font-medium [&_tr]:last-child:border-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("tfoot",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});xe.displayName="TableFooter";const J=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("tr",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});J.displayName="TableRow";const R=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("th",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});R.displayName="TableHead";const $=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("td",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});$.displayName="TableCell";const pe=c.forwardRef((i,s)=>{const e=n.c(9);let t,r;e[0]!==i?({className:t,...r}=i,e[0]=i,e[1]=t,e[2]=r):(t=e[1],r=e[2]);let l;e[3]!==t?(l=m("mt-4 text-sm text-muted-foreground",t),e[3]=t,e[4]=l):l=e[4];let o;return e[5]!==r||e[6]!==s||e[7]!==l?(o=a.jsx("caption",{ref:s,className:l,...r}),e[5]=r,e[6]=s,e[7]=l,e[8]=o):o=e[8],o});pe.displayName="TableCaption";const Re=i=>{const s=n.c(56),{selectedIdea:e,scenes:t,tone:r,onBack:l,onRegenerate:o,onStartOver:M,isLoading:k}=i,se=r===void 0?null:r,[O,K]=c.useState(!1);let B;s[0]!==t?(B=async()=>{try{const te=t.map(ue).join(`

`);await navigator.clipboard.writeText(te),K(!0),Q.success("Copied to clipboard"),setTimeout(()=>K(!1),2e3)}catch{Q.error("Couldn't copy")}},s[0]=t,s[1]=B):B=s[1];const P=B;let E;s[2]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(ce,{className:"w-4 h-4"}),s[2]=E):E=s[2];let d;s[3]!==l?(d=a.jsxs("button",{onClick:l,className:"inline-flex items-center gap-2 font-medium text-muted-foreground hover:text-foreground text-sm transition-colors duration-250",children:[E,"Back to outline"]}),s[3]=l,s[4]=d):d=s[4];let H;s[5]===Symbol.for("react.memo_cache_sentinel")?(H=a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex justify-center items-center bg-success/10 rounded-xl w-10 h-10",children:a.jsx(U,{className:"w-5 h-5 text-success"})}),a.jsx("h2",{className:"font-semibold text-foreground text-2xl",children:"Your Detailed Script is Ready"})]}),s[5]=H):H=s[5];let f;s[6]!==e?(f=a.jsxs("div",{className:"space-y-2",children:[H,a.jsx("p",{className:"text-muted-foreground font-medium",children:e})]}),s[6]=e,s[7]=f):f=s[7];let A;s[8]===Symbol.for("react.memo_cache_sentinel")?(A=a.jsx(W,{className:"w-4 h-4 text-primary"}),s[8]=A):A=s[8];const Y=se||"Professional";let x;s[9]!==Y?(x=a.jsxs("div",{className:"flex items-center gap-2 bg-secondary px-4 py-2 rounded-full text-secondary-foreground text-sm font-semibold",children:[A,"Tone: ",Y]}),s[9]=Y,s[10]=x):x=s[10];let p;s[11]!==f||s[12]!==x?(p=a.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-4",children:[f,x]}),s[11]=f,s[12]=x,s[13]=p):p=s[13];let u;s[14]!==p||s[15]!==d?(u=a.jsxs("div",{className:"space-y-4",children:[d,p]}),s[14]=p,s[15]=d,s[16]=u):u=s[16];let F;s[17]===Symbol.for("react.memo_cache_sentinel")?(F=a.jsx(le,{className:"text-lg",children:"Scene-by-Scene Storyboard"}),s[17]=F):F=s[17];let h;s[18]!==t?(h=t.reduce(he,0),s[18]=t,s[19]=h):h=s[19];let b;s[20]!==h?(b=a.jsxs("div",{children:[F,a.jsxs(ae,{children:["Total Est. Duration: ",h,"s"]})]}),s[20]=h,s[21]=b):b=s[21];let N;s[22]!==O?(N=O?a.jsxs(a.Fragment,{children:[a.jsx(U,{className:"w-4 h-4"}),"Copied"]}):a.jsxs(a.Fragment,{children:[a.jsx(ne,{className:"w-4 h-4"}),"Copy Everything"]}),s[22]=O,s[23]=N):N=s[23];let j;s[24]!==P||s[25]!==N?(j=a.jsx(G,{variant:"default",size:"sm",onClick:P,className:"gap-2 shadow-sm",children:N}),s[24]=P,s[25]=N,s[26]=j):j=s[26];let y;s[27]!==b||s[28]!==j?(y=a.jsx(re,{className:"bg-muted/30 border-border border-b",children:a.jsxs("div",{className:"flex justify-between items-center",children:[b,j]})}),s[27]=b,s[28]=j,s[29]=y):y=s[29];let z;s[30]===Symbol.for("react.memo_cache_sentinel")?(z=a.jsx(R,{className:"w-16",children:"#"}),s[30]=z):z=s[30];let D;s[31]===Symbol.for("react.memo_cache_sentinel")?(D=a.jsx(R,{className:"min-w-[200px]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{className:"w-4 h-4"}),"Visual / Storyboard"]})}),s[31]=D):D=s[31];let V;s[32]===Symbol.for("react.memo_cache_sentinel")?(V=a.jsx(R,{className:"min-w-[300px]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(W,{className:"w-4 h-4"}),"Narration / Audio"]})}),s[32]=V):V=s[32];let I;s[33]===Symbol.for("react.memo_cache_sentinel")?(I=a.jsx(Z,{className:"bg-muted/50",children:a.jsxs(J,{children:[z,D,V,a.jsx(R,{className:"w-24 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(de,{className:"w-4 h-4"}),"Time"]})})]})}),s[33]=I):I=s[33];let g;s[34]!==t?(g=t.map(be),s[34]=t,s[35]=g):g=s[35];let w;s[36]!==g?(w=a.jsx(ie,{className:"p-0",children:a.jsxs(X,{children:[I,a.jsx(ee,{children:g})]})}),s[36]=g,s[37]=w):w=s[37];let v;s[38]!==y||s[39]!==w?(v=a.jsxs(oe,{className:"overflow-hidden shadow-premium border-none",children:[y,w]}),s[38]=y,s[39]=w,s[40]=v):v=s[40];const q=`h-4 w-4 ${k?"animate-spin":""}`;let C;s[41]!==q?(C=a.jsx(fe,{className:q}),s[41]=q,s[42]=C):C=s[42];let _;s[43]!==k||s[44]!==o||s[45]!==C?(_=a.jsxs(G,{variant:"outline",onClick:o,disabled:k,className:"gap-2 h-12",children:[C,"Regenerate script"]}),s[43]=k,s[44]=o,s[45]=C,s[46]=_):_=s[46];let T;s[47]!==M?(T=a.jsx(G,{onClick:M,className:"gap-2 h-12 px-8",children:"Start new video"}),s[47]=M,s[48]=T):T=s[48];let S;s[49]!==_||s[50]!==T?(S=a.jsxs("div",{className:"flex sm:flex-row flex-col gap-3 pt-4",children:[_,T]}),s[49]=_,s[50]=T,s[51]=S):S=s[51];let L;return s[52]!==u||s[53]!==v||s[54]!==S?(L=a.jsxs("div",{className:"space-y-8 animate-fade-in",children:[u,v,S]}),s[52]=u,s[53]=v,s[54]=S,s[55]=L):L=s[55],L};function ue(i){return`Scene ${i.scene_number} (${i.duration}s)
Visual: ${i.visual}
Audio: ${i.audio}`}function he(i,s){return i+(parseInt(s.duration)||0)}function be(i){return a.jsxs(J,{className:"hover:bg-muted/20 transition-colors",children:[a.jsx($,{className:"font-bold text-muted-foreground",children:i.scene_number}),a.jsx($,{className:"text-sm leading-relaxed",children:i.visual}),a.jsx($,{className:"text-sm leading-relaxed font-medium",children:i.audio}),a.jsxs($,{className:"text-right tabular-nums text-primary font-bold",children:[i.duration,"s"]})]},i.scene_number)}export{Re as S};
